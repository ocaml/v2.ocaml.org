((! cmd curl -s 'https://groups.google.com/forum/feed/fa.caml/topics/rss.xml?num=10'|grep -o -E '<(pubDate|title)>.*</(pubDate|title)>'|(read;cat)|sed -e 's|</item> <item>||g' -e 's|.Caml-list. ||g'|perl -pe 's|><|>\n<|g'|sed -e 's|<title>||g' -e 's|</title>||g' -e 's|<pubDate>||g' -e 's|</pubDate>||g' -e 's|\(..., .. ... 20.. \).*|\1|g'|while read title; do if grep -q 'Confirm [0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f][0-9a-f]' <<< "$title" ; then read ; date= ; else read date ; fi; if [[ "$date" == "" ]] ; then continue ; else year="$(sed -e 's|^..., .. ... \(20..\).*|\1|g' <<<"$date")" ; case "$(sed -e 's|^..., .. \(...\).*|\1|g' <<<"$date")" in Jan) month=01 ;; Feb) month=02 ;; Mar) month=03 ;; Apr) month=04 ;; May) month=05 ;; Jun) month=06 ;; Jul) month=07 ;; Aug) month=08 ;; Sep) month=09 ;; Oct) month=10 ;; Nov) month=11 ;; Dec) month=12 ;; esac; echo "<li><article><h1><a href='https://sympa.inria.fr/sympa/arc/caml-list/$year-$month/thrd1.html'>$title</a></h1><p>$date</p><a href='https://sympa.inria.fr/sympa/arc/caml-list/$year-$month/thrd1.html'><img src='/img/news.png' alt='News'></a></article></li>" ; fi ; done|head -n 3 !))
